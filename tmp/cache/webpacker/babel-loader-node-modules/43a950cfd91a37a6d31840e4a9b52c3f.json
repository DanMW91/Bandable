{"ast":null,"code":"import { submitChatMessageHandler } from \"./chat\";\nvar scrollY = 0;\nexport var bandShowTabsHandler = function bandShowTabsHandler() {\n  if (document.querySelector('.tablinks')) {\n    var openTab = function openTab(evt, tabName) {\n      var i, tabcontent, tablinks;\n      tabcontent = document.getElementsByClassName(\"tabcontent\");\n\n      for (i = 0; i < tabcontent.length; i++) {\n        tabcontent[i].style.display = \"none\";\n      }\n\n      tablinks = document.getElementsByClassName(\"tablinks\");\n\n      for (i = 0; i < tablinks.length; i++) {\n        tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n      }\n\n      document.getElementById(tabName).style.display = \"block\";\n      evt.currentTarget.className += \" active\";\n    };\n\n    var tabs = document.querySelectorAll('.tablinks');\n    tabs.forEach(function (tab) {\n      tab.addEventListener('click', function (e) {\n        var tabName = e.target.innerText;\n        openTab(e, tabName);\n      });\n    });\n    var allTabContent = document.querySelectorAll('.tabcontent');\n    var bandTab = tabs[0];\n    var bandTabContent = allTabContent[0];\n    var auditionsTab = tabs[1];\n    var auditionsTabContent = allTabContent[1];\n    var chatTab = tabs[2];\n    var chatTabContent = allTabContent[2];\n    var rehearsalRoomTab = tabs[3];\n    var rehearsalRoomTabContent = allTabContent[3];\n    var chatForm = document.querySelector('.msger-inputarea');\n    var messageHistory = document.querySelector('.msg_history');\n    var messageInput = document.querySelector('.msger-input');\n    tabs.forEach(function (tab) {\n      tab.addEventListener('click', function (e) {\n        window.location.hash = e.target.innerText.toLowerCase();\n      });\n    });\n    chatTab.addEventListener('click', function () {\n      //scroll to most recent chat messages\n      messageHistory.scrollTop = messageHistory.scrollHeight;\n    });\n    new MutationObserver(function () {\n      messageHistory.scrollTop = messageHistory.scrollHeight;\n      ;\n    }).observe(messageHistory, {\n      childList: true\n    });\n    chatForm.addEventListener('submit', function () {\n      // set scroll window position of user on submission of chat message\n      scrollY = window.scrollY;\n    });\n\n    if (window.location.href.indexOf('#chat') >= 0) {\n      // if #chat is in the url display chat tab content\n      chatTab.classList.add('active');\n      chatTabContent.style.display = \"block\"; // scroll to window position of user on submission of chat message\n\n      window.scrollTo(0, scrollY);\n      messageInput.focus(); //scroll to bottom of chat div\n\n      messageHistory.scrollTop = messageHistory.scrollHeight;\n    }\n\n    if (window.location.href.indexOf('#auditions') >= 1) {\n      auditionsTab.classList.add('active');\n      auditionsTabContent.style.display = \"block\";\n    }\n\n    if (window.location.href.indexOf('#auditions') >= 1) {\n      auditionsTab.classList.add('active');\n      auditionsTabContent.style.display = \"block\";\n    }\n\n    if (window.location.href.indexOf('#') === -1 || window.location.href.indexOf('#band') >= 1) {\n      bandTab.classList.add('active');\n      bandTabContent.style.display = \"block\";\n    }\n  }\n};","map":{"version":3,"sources":["/Users/seulkeekang/code/DanMW91/The-Rehearsal-Room/app/javascript/packs/band_show_tabs.js"],"names":["submitChatMessageHandler","scrollY","bandShowTabsHandler","document","querySelector","openTab","evt","tabName","i","tabcontent","tablinks","getElementsByClassName","length","style","display","className","replace","getElementById","currentTarget","tabs","querySelectorAll","forEach","tab","addEventListener","e","target","innerText","allTabContent","bandTab","bandTabContent","auditionsTab","auditionsTabContent","chatTab","chatTabContent","rehearsalRoomTab","rehearsalRoomTabContent","chatForm","messageHistory","messageInput","window","location","hash","toLowerCase","scrollTop","scrollHeight","MutationObserver","observe","childList","href","indexOf","classList","add","scrollTo","focus"],"mappings":"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","sourcesContent":["import { submitChatMessageHandler } from \"./chat\";\n\nlet scrollY = 0\n\nexport const bandShowTabsHandler = () => {\n\n  if (document.querySelector('.tablinks')) {\n    function openTab(evt, tabName) {\n          var i, tabcontent, tablinks;\n          tabcontent = document.getElementsByClassName(\"tabcontent\");\n          for (i = 0; i < tabcontent.length; i++) {\n            tabcontent[i].style.display = \"none\";\n          }\n          tablinks = document.getElementsByClassName(\"tablinks\");\n          for (i = 0; i < tablinks.length; i++) {\n            tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n          }\n          document.getElementById(tabName).style.display = \"block\";\n          evt.currentTarget.className += \" active\";\n        }\n\n    const tabs = document.querySelectorAll('.tablinks');\n    tabs.forEach((tab)=> {\n      tab.addEventListener('click', (e)=> {\n          const tabName = e.target.innerText\n          openTab(e, tabName)\n      })\n    })\n\n\n    const allTabContent = document.querySelectorAll('.tabcontent');\n\n    const bandTab = tabs[0]\n    const bandTabContent = allTabContent[0];\n\n    const auditionsTab = tabs[1];\n    const auditionsTabContent = allTabContent[1]\n\n    const chatTab = tabs[2]\n    const chatTabContent = allTabContent[2]\n\n    const rehearsalRoomTab = tabs[3]\n    const rehearsalRoomTabContent = allTabContent[3]\n\n    const chatForm = document.querySelector('.msger-inputarea');\n\n    const messageHistory = document.querySelector('.msg_history');\n    const messageInput =  document.querySelector('.msger-input');\n\n    tabs.forEach(tab => {\n      tab.addEventListener('click', (e) => {\n        window.location.hash = e.target.innerText.toLowerCase()\n      })\n    })\n\n    chatTab.addEventListener('click', () => {\n      //scroll to most recent chat messages\n      messageHistory.scrollTop = messageHistory.scrollHeight;\n    })\n\n    new MutationObserver(() => {\n      messageHistory.scrollTop = messageHistory.scrollHeight;;\n    }).observe(messageHistory, { childList: true });\n\n    chatForm.addEventListener('submit', () => {\n       // set scroll window position of user on submission of chat message\n      scrollY = window.scrollY;\n    })\n\n    if (window.location.href.indexOf('#chat') >= 0) {\n      // if #chat is in the url display chat tab content\n      chatTab.classList.add('active')\n      chatTabContent.style.display = \"block\";\n\n      // scroll to window position of user on submission of chat message\n      window.scrollTo(0, scrollY);\n      messageInput.focus()\n      //scroll to bottom of chat div\n      messageHistory.scrollTop = messageHistory.scrollHeight;\n    }\n    if (window.location.href.indexOf('#auditions') >= 1) {\n\n    auditionsTab.classList.add('active')\n    auditionsTabContent.style.display = \"block\";\n    }\n    if (window.location.href.indexOf('#auditions') >= 1) {\n    auditionsTab.classList.add('active')\n    auditionsTabContent.style.display = \"block\";\n    }\n    if (window.location.href.indexOf('#') === -1 || window.location.href.indexOf('#band') >= 1) {\n    bandTab.classList.add('active')\n    bandTabContent.style.display = \"block\";\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}